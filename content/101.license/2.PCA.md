# Google Cloud Architect Professional License


## 題目

1. The JencoMart security team requires that all Google Cloud Platform infrastructure is deployed using a least privilege model with separation of duties for administration between production and development resources.

```
A. Create two G Suite accounts to manage users: one for development/test/staging and one for production. Each account should contain one project for every application

B. Create two G Suite accounts to manage users: one with a single project for all development applications and one with a single project for all production applications

C. Create a single G Suite account to manage users with each stage of each application in its own project

D. Create a single G Suite account to manage users with one project for the development/test/staging environment and one project for the production environment
```

<details>
  <summary>解題</summary>
  
  - 題目問題核心在於如何在Google Cloud Platform（GCP）上部署基礎設施，同時遵循最小權限模型(privilege model)和職責分離原則，尤其是在生產環境和開發資源之間的管理上。
  > privilege model，通常會透過專案項目隔離、IAM或是資源容器隔離來達到。

  - 解答會是C，建立一個Google Workspace，然後每個stage(開發、測試、上線..)階段都有自己的Project會是最佳解。每個應用按環境分開項目的方法，增強了安全性和可管理性，並確保了職責的清晰分離。
  
  - 其餘答案，
    - A. 要維護兩個Google WorkSpace，且每個應用都需要分別在開發和生產環境中擁有獨立的項目(Project)。這管理複雜度太高!!!
   
    - B. 創建兩個Google WorkSpace帳戶來管理用戶：一個包含所有開發應用的單一項目，另一個包含所有生產應用的單一項目。 這個選項同樣增加了管理的複雜性，並且將所有開發或生產應用放在單一項目中可能會對資源管理和訪問控制造成挑戰。

    - D. 基本上可行，但還是C隔離的比較乾淨!!

</details>

2. A few days after JencoMart migrates the user credentials database to Google Cloud Platform and shuts down the old server, the new database server stops responding to SSH connections. It is still serving database requests to the application servers correctly.

What three steps should you take to diagnose the problem? (Choose three.)

```
A. Delete the virtual machine (VM) and disks and create a new one

B. Delete the instance, attach the disk to a new VM, and investigate

C. Take a snapshot of the disk and connect to a new machine to investigate

D. Check inbound firewall rules for the network the machine is connected to

E. Connect the machine to another network with very simple firewall rules and investigate

F. Print the Serial Console output for the instance for troubleshooting, activate the interactive console, and investigate
```

<details>
  <summary>解題</summary>
  
  - 題目問題在於當面對一個新遷移到Google Cloud Platform的數據庫服務器突然停止響應SSH連接的問題時，但它仍然正確地處理應用服務器的數據庫請求。請問要如何診斷問題所在?此現象表明問題可能與網絡配置、系統配置或安全設置有關，而不是數據庫本身的問題。所以可以往這方向去探討問題。

  - 解答會是CDF，詳細步驟如下

    - D. 檢查連接到機器的網絡的入站防火牆規則。 這是診斷SSH連接問題的第一步，因為防火牆規則可能被設置為阻止SSH流量。檢查確保沒有防火牆規則不當地限制了對該服務器的SSH訪問。
    
    - F. 輸出Instance的訊息至控制台輸出以進行故障排除，啟動互動控制台並進行調查。 這可以提供關於系統狀態和啟動過程中可能出現的問題的重要信息。串行控制台輸出有助於識別是否有系統級別的錯誤導致SSH服務無法正常工作。

    - C.透過對磁盤進行快照並將其掛載到另一台虛擬機上，可安全地檢查文件系統、系統日誌和其他配置，尋找導致SSH服務中斷的原因。
  
    - 其餘答案，選擇 A 和 B （刪除虛擬機和磁盤或刪除實例並將磁盤附加到新的虛擬機）可能會對正在運行的服務造成不必要的風險，並且在初步診斷階段通常不推薦作為首選。而選項 E （將機器連接到另一個網絡進行調查）可能在排除網絡問題時有其用處，但在許多情況下，更改網絡配置可能不那麼直接或者可行，特別是當你想最小化對當前運行環境影響的時候。
  
</details>

3. JencoMart has decided to migrate user profile storage to Google Cloud Datastore and the application servers to Google Compute Engine (GCE). During the migration, the existing infrastructure will need access to Datastore to upload the data.

```
A. Provision service account keys for the on-premises infrastructure and for the GCE virtual machines (VMs)

B. Authenticate the on-premises infrastructure with a user account and provision service account keys for the VMs

C. Provision service account keys for the on-premises infrastructure and use Google Cloud Platform (GCP) managed keys for the VMs

D. Deploy a custom authentication service on GCE/Google Kubernetes Engine (GKE) for the on-premises infrastructure and use GCP managed keys for the VMs
```

<details>
  <summary>解題</summary>
  
  - 題目問題在於對於JencoMart決定將使用者資料儲存遷移到Google Cloud Datastore和應用程式伺服器遷移到Google Compute Engine (GCE)的情況，在遷移過程中，現有基礎架構需要存取Datastore以上傳資料。正確的做法是什麼

  - 解答會是
  
  - 其餘答案
  

</details>
