[{"_path":"/license/_dir","_dir":"license","_draft":false,"_partial":true,"_locale":"","title":"è­‰ç…§è€ƒè©¦æº–å‚™","icon":"ğŸ¦¸ğŸ»","_id":"content:101.license:_dir.yml","_type":"yaml","_source":"content","_file":"101.license/_dir.yml","_extension":"yml"},{"_path":"/web-backend/quarkus-reactive-web-api","_dir":"web-backend","_draft":false,"_partial":false,"_locale":"","title":"Quarkus Reactive Web APIå¯«æ³•ç´€éŒ„","description":"è¿‘æœŸå› å·¥ä½œä¸Šéœ€æ±‚ï¼Œéœ€è¦æ¥è§¸æ–°çš„å¾Œç«¯æ¡†æ¶...Quarkusï¼Œè™Ÿç¨±æœ‰å‡ºè‰²çš„å•Ÿå‹•é€Ÿåº¦å’Œä½è¨˜æ†¶é«”å ç”¨....å› å¯«æ³•ä¸Šèˆ‡ä¸€èˆ¬Web APIæœ‰é»ä¸åŒç‰¹åˆ¥åšå€‹ç´€éŒ„ã€‚","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"quarkus-reactive-web-apiå¯«æ³•ç´€éŒ„"},"children":[{"type":"text","value":"Quarkus Reactive Web APIå¯«æ³•ç´€éŒ„"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"è¿‘æœŸå› å·¥ä½œä¸Šéœ€æ±‚ï¼Œéœ€è¦æ¥è§¸æ–°çš„å¾Œç«¯æ¡†æ¶...Quarkusï¼Œè™Ÿç¨±æœ‰å‡ºè‰²çš„å•Ÿå‹•é€Ÿåº¦å’Œä½è¨˜æ†¶é«”å ç”¨....å› å¯«æ³•ä¸Šèˆ‡ä¸€èˆ¬Web APIæœ‰é»ä¸åŒç‰¹åˆ¥åšå€‹ç´€éŒ„ã€‚"}]},{"type":"element","tag":"h2","props":{"id":"ä¸€restful-web-api-é˜»å¡å¼éé˜»å¡å¼éŸ¿æ‡‰å¼èˆ‡ä½µç™¼å·®ç•°æ€§"},"children":[{"type":"text","value":"ä¸€ã€RESTful Web API é˜»å¡å¼ã€éé˜»å¡å¼ã€éŸ¿æ‡‰å¼èˆ‡ä½µç™¼å·®ç•°æ€§"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ä¸€èˆ¬APIå¸¸è¦‹çš„æœ‰å››ç¨®å¯«æ³•ï¼Œåˆ†åˆ¥ç‚ºé˜»å¡å¼ã€éé˜»å¡å¼ã€éŸ¿æ‡‰å¼èˆ‡ä½µç™¼çš„å¯«æ³•ã€‚ä»–å€‘çš„å·®ç•°å¦‚ä¸‹"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"é˜»å¡å¼ (Blocking) : æ¯å€‹è«‹æ±‚éƒ½å¿…é ˆç­‰å¾…å‰ä¸€å€‹è«‹æ±‚å®Œæˆå¾Œæ‰èƒ½ç¹¼çºŒé€²è¡Œã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"éé˜»å¡å¼ (Non-blocking) : å¾ŒçºŒçš„è«‹æ±‚ä¸å¿…ç­‰å‰ä¸€å€‹è«‹æ±‚å®Œæˆï¼Œå°±å¯ç¹¼çºŒé€²è¡Œã€‚ç°¡å–®ä¾†èªªå°±æ˜¯å…è¨±ç³»çµ±åœ¨ç­‰å¾…æŸå€‹ä»»å‹™å®Œæˆçš„åŒæ™‚ï¼Œå»åšå…¶ä»–äº‹æƒ…ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"éŸ¿æ‡‰å¼ (Reactive) : åŸºç«‹æ–¼Non-blocking(Thread Pool)ã€äº‹ä»¶é©…å‹•ï¼ˆEvent-Drivenï¼‰å’Œè§€å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ï¼Œç›¸è¼ƒæ–¼Non-blockingæ›´èƒ½è¼•æ˜“åšæ•¸æ“šæµçš„æ•´åˆèˆ‡æ“ä½œï¼Œèƒ½æ›´å„ªé›…çš„è™•ç†å¥½çš„åå£“ï¼ˆback-pressureï¼‰å’Œè³‡æºå½ˆæ€§ï¼ˆresource elasticityï¼‰ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ä½µç™¼ (Concurrency) : åŸºæœ¬ä¸Šä½µç™¼æ˜¯ä¸€ç¨®æ¦‚å¿µï¼Œç°¡å–®ä¾†èªªåªè¦æ¶‰åŠåŒæ™‚é–“æœ‰å¤šå€‹è«‹æ±‚æˆ–æ“ä½œåœ¨é€²è¡Œå°±å¯ä»¥å«ä½µç™¼? è€ŒNon-blockingèˆ‡Reactiveå°±æ˜¯ä¸€ç¨®ä½µç™¼çš„å¯¦ç¾æ–¹å¼ã€‚"}]}]},{"type":"element","tag":"h3","props":{"id":"ablocking"},"children":[{"type":"text","value":"a.Blocking"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ä¸‹åœ–ç‚ºBlocking Flowï¼Œé€™Flowå¾ˆç°¡å–®ï¼Œç°¡å–®ä¾†èªªHTTP GET/user/joeæ‰“å‡ºå»å¾Œï¼ŒClientè¦ç­‰åˆ°HTTP Responseï¼Œå¾Œç«¯æœå‹™(Container)æ‰å¯ä»¥æ¥å—è™•ç†å¦ä¸€å€‹HTTP Requestã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Blocking Flow","src":"/blog/images/150/02/001.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Javaç¯„ä¾‹ç¨‹å¼ç¢¼å¦‚ä¸‹"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"@GetMapping(\"/blocking\")\npublic String blocking() throws InterruptedException {\n    // Simulate a long-running operation\n    Thread.sleep(5000);\n    return \"Finished blocking operation\";\n}\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"GetMapping"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"/blocking\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" String "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"blocking"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() throws InterruptedException {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Simulate a long-running operation\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    Thread."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"sleep"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"5000"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Finished blocking operation\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"bnon-blocking"},"children":[{"type":"text","value":"b.Non-Blocking"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Non-Blocking Flowå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸€å€‹Key Pointï¼Œåœ¨Containerå¾€Controllerå‘¼å«getUser()ç•¶ä¸‹ç«‹å³è¿”å›ä¸€å€‹Future HTTP Resultã€‚é€™å€‹Future HTTP Resultæœƒå‘ŠçŸ¥Containerå¯ä»¥å»è™•ç†å…¶ä»–äº‹æƒ…ï¼Œå·²æ”¶åˆ°ä»»å‹™å‘½ä»¤ã€‚Containerå°±å¯ä»¥æ¥è‘—å»æ¥æ”¶ä¸‹ä¸€å€‹Requestã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"è©³ç´°æµç¨‹å¦‚ä¸‹ï¼ŒåŸºç¤åŸç†åœ¨Thread Poolèˆ‡callbackçš„æ‡‰ç”¨å¯¦ä½œ"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"å®¢æˆ¶ç«¯åˆ°å®¹å™¨ï¼ˆContainerï¼‰"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step1 : Clientç™¼èµ·HTTP GETè«‹æ±‚ï¼Œç•¶å®¢æˆ¶ç«¯ï¼ˆClientï¼‰ç™¼èµ·ä¸€å€‹HTTP GETåˆ° /user/joeï¼Œé€™å€‹è«‹æ±‚é¦–å…ˆæœƒè¢«é€åˆ°å®¹å™¨ï¼ˆContainerï¼‰ã€‚"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"å®¹å™¨åˆ°Controller"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step1 : HTTPè«‹æ±‚åˆ°é”Controllerï¼Œå®¹å™¨æœƒå°‡é€™å€‹HTTPè«‹æ±‚è½‰äº¤çµ¦Controllerå°æ‡‰çš„getUser()æ–¹æ³•ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step2 : Controllerå›æ‡‰Future HTTP Resultï¼Œé€™è£¡çš„\"Future HTTP Result\"æ˜¯ä¸€ç¨®å ä½ç¬¦ï¼Œå‘Šè¨´å®¹å™¨é€™å€‹è«‹æ±‚æœƒè¢«ç•°æ­¥è™•ç†ã€‚Controlleræœƒç«‹å³å›æ‡‰ï¼Œé€™æ¨£å®¹å™¨å°±çŸ¥é“å¯ä»¥å»è™•ç†å…¶ä»–è«‹æ±‚ã€‚"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Controlleråˆ°Service"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step1 : Serviceæ–¹æ³•é–‹å•Ÿæ–°åŸ·è¡Œç·’ï¼ŒControlleræœƒèª¿ç”¨Serviceçš„getUserByName()æ–¹æ³•ã€‚Serviceå±¤æœƒé–‹å•Ÿä¸€å€‹æ–°çš„åŸ·è¡Œç·’ï¼ˆé€šå¸¸ä¾†è‡ªä¸€å€‹åŸ·è¡Œç·’æ± (Thread Pool)ï¼‰ä¾†è™•ç†é€™å€‹è«‹æ±‚ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step2 : é‡‹æ”¾åŸå§‹åŸ·è¡Œç·’ï¼Œä¸€æ—¦æ–°çš„åŸ·è¡Œç·’é–‹å§‹é‹è¡Œï¼Œç”¨ä¾†è™•ç†åŸå§‹HTTPè«‹æ±‚çš„åŸ·è¡Œç·’å°±æœƒè¢«é‡‹æ”¾ï¼Œè¿”å›åˆ°åŸ·è¡Œç·’æ± ä¸­ã€‚"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Serviceåˆ°Repositoryåˆ°Database"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step1 : éåŒæ­¥æ“ä½œå’Œå›èª¿ï¼ˆCallbacks)ï¼ŒServiceæœƒé€²ä¸€æ­¥èª¿ç”¨Repositoryçš„findAllByLastName()æ–¹æ³•ï¼Œç„¶å¾ŒRepositoryæœƒéåŒæ­¥åœ°èˆ‡Databaseé€²è¡Œäº¤äº’ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step2 : Repositoryå›æ‡‰çµ¦Serviceï¼ŒRepositoryæœƒå›å‚³ä¸€å€‹CompletableFutureçµ¦Serviceã€‚"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Serviceåˆ°Controlleråˆ°å®¹å™¨"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step1 : Serviceå›æ‡‰çµ¦Controllerï¼ŒServiceæœƒå°‡CompletableFutureå›å‚³çµ¦Controllerã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step2 : å›èª¿ç”±ä¸åŒçš„åŸ·è¡Œç·’åŸ·è¡Œï¼šé€™å€‹CompletableFutureä¸€æ—¦å®Œæˆï¼Œå®ƒçš„å›èª¿æœƒè¢«ä¸€å€‹ä¸åŒçš„åŸ·è¡Œç·’ï¼ˆä¹Ÿä¾†è‡ªåŸ·è¡Œç·’æ± ï¼‰åŸ·è¡Œã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Step3 : è¿”å›HTTPéŸ¿æ‡‰ï¼šæœ€å¾Œï¼ŒControlleræœƒç”Ÿæˆæœ€çµ‚çš„HTTPéŸ¿æ‡‰ï¼ˆé€šå¸¸æ˜¯CompletableFutureçš„å¯¦éš›å…§å®¹ï¼‰ä¸¦å›å‚³çµ¦å®¹å™¨ï¼Œç„¶å¾Œå®¹å™¨å†å›å‚³çµ¦å®¢æˆ¶ç«¯ã€‚"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/blog/images/150/02/002.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Javaç¯„ä¾‹ç¨‹å¼ç¢¼å¦‚ä¸‹"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"\n@RestController\npublic class NonBlockingController {\n\n    @GetMapping(\"/non-blocking\")\n    public CompletableFuture<String> nonBlocking() {\n        return CompletableFuture.supplyAsync(() -> {\n            try {\n                // Simulate a long-running operation\n                Thread.sleep(5000);\n            } catch (InterruptedException e) {\n                // Handle exception\n            }\n            return \"Finished non-blocking operation\";\n        });\n    }\n}\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"RestController\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"NonBlockingController"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"GetMapping"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"/non-blocking\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" CompletableFuture<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"nonBlocking"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" CompletableFuture."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"supplyAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(() "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Simulate a long-running operation\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                Thread."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"sleep"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"5000"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            } "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"catch"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" (InterruptedException "}]},{"type":"element","tag":"span","props":{"class":"ct-157101"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Handle exception\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Finished non-blocking operation\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"creactive"},"children":[{"type":"text","value":"c.Reactive"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"éŸ¿æ‡‰å¼æ˜¯åŸºç«‹æ–¼Non-blocking(Thread Pool)çš„è¨­è¨ˆæ˜¯ä¸Šï¼Œä¸¦å¥—ç”¨äº‹ä»¶é©…å‹•ï¼ˆEvent-Drivenï¼‰å’Œè§€å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰è¨­è¨ˆæ¨¡å¼ã€‚å¯ä»¥è¼•æ˜“é”åˆ°è³‡æ–™æµä¸²æ¥è™•ç†ã€back-pressureèˆ‡resource elasticityã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"é€™é‚Šä»¥flowåœ–å»è§£é‡‹è¦æƒ³å€‹æƒ…å¢ƒæœƒç¨å¾®éº»ç…©ä¸€äº›ï¼Œæ•…é€™å°ç¯€ç´€éŒ„Reactiveï¼Œæˆ‘æƒ³èªªç›´æ¥ä»¥Srouce Codeå»è§£é‡‹ã€‚"}]},{"type":"element","tag":"h4","props":{"id":"è³‡æ–™æµä¸²æ¥è™•ç†"},"children":[{"type":"text","value":"è³‡æ–™æµä¸²æ¥è™•ç†"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"éŸ¿æ‡‰å¼å¯«æ³•å¯ä»¥è¼•æ˜“çš„è®“ä½ å®¢è£½è³‡æ–™æµä¸²æ¥ï¼Œä¾‹å¦‚ä¸‰æ”¯æœå‹™è™•ç†å®Œå¾Œï¼Œå†å»åšäº‹æƒ…ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"èˆ‰å€‹ä¾‹å­ï¼Œå‡è¨­ä½ çš„ç³»çµ±éœ€è¦å¾å¤šå€‹æœå‹™æä¾›è€…ï¼ˆä¾‹å¦‚ï¼Œä¸åŒçš„APIæˆ–æ•¸æ“šåº«ï¼‰ä¸­ç²å–æ•¸æ“šï¼Œä¸¦ä¸”å¸Œæœ›é€™äº›æ“ä½œèƒ½å¤ éé˜»å¡å’Œé«˜æ•ˆåœ°é€²è¡Œã€‚"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.time.Duration;\n\n@RestController\npublic class ReactiveController {\n\n    // æ¨¡æ“¬å¾ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–å–®ä¸€æ•¸æ“š\n    private Mono<String> getDataFromProvider1() {\n        return Mono.just(\"Data from Provider 1\")\n                   .delayElement(Duration.ofSeconds(2));\n    }\n\n    // æ¨¡æ“¬å¾å¦ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–æµå¼æ•¸æ“š\n    private Flux<String> getDataFromProvider2() {\n        return Flux.just(\"Data 1 from Provider 2\", \"Data 2 from Provider 2\")\n                   .delayElements(Duration.ofSeconds(1));\n    }\n\n    @GetMapping(\"/aggregate\")\n    public Flux<String> aggregateData() {\n        // åˆä½µå…©å€‹æ•¸æ“šä¾†æºä¸¦è¿”å›\n        return Flux.concat(getDataFromProvider1(), getDataFromProvider2());\n    }\n}\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" org.springframework.web.bind.annotation.GetMapping;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" org.springframework.web.bind.annotation.RestController;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" reactor.core.publisher.Flux;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" reactor.core.publisher.Mono;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" java.time.Duration;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"RestController\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"ReactiveController"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// æ¨¡æ“¬å¾ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–å–®ä¸€æ•¸æ“š\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Mono<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider1"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Mono."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"just"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Data from Provider 1\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                   ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"delayElement"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Duration."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"ofSeconds"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"));\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// æ¨¡æ“¬å¾å¦ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–æµå¼æ•¸æ“š\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Flux<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider2"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Flux."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"just"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Data 1 from Provider 2\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Data 2 from Provider 2\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                   ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"delayElements"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Duration."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"ofSeconds"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"));\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"GetMapping"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"/aggregate\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Flux<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"aggregateData"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// åˆä½µå…©å€‹æ•¸æ“šä¾†æºä¸¦è¿”å›\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Flux."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"concat"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider1"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(), "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider2"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"());\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"å¦‚æœç”¨ä¸€èˆ¬å¯«æ³•è¦é”åˆ°åŒæ•ˆæœï¼Œå¯«æ³•å¦‚ä¸‹ï¼Œç›¸å°èµ·ä¾†æœƒè¼ƒæ–¼è¤‡é›œï¼Œä½¿ç”¨Reactiveæˆ‘å€‘å¯ä»¥è¼•æ˜“é”åˆ°ç•¶å…©å€‹æ•¸æ“šéƒ½æ”¶åˆ°è³‡æ–™æ™‚ï¼Œåœ¨å¯¦éš›åšä¸‹ä¸€æ­¥å‹•ä½œ."}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\n@RestController\npublic class NonReactiveController {\n\n    // æ¨¡æ“¬å¾ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–å–®ä¸€æ•¸æ“š\n    private String getDataFromProvider1() {\n        try {\n            TimeUnit.SECONDS.sleep(2);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        return \"Data from Provider 1\";\n    }\n\n    // æ¨¡æ“¬å¾å¦ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–æµå¼æ•¸æ“š\n    private List<String> getDataFromProvider2() {\n        List<String> data = new ArrayList<>();\n        data.add(\"Data 1 from Provider 2\");\n        try {\n            TimeUnit.SECONDS.sleep(1);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        data.add(\"Data 2 from Provider 2\");\n        return data;\n    }\n\n    @GetMapping(\"/aggregate\")\n    public List<String> aggregateData() {\n        List<String> aggregatedData = new ArrayList<>();\n        // å¾ç¬¬ä¸€å€‹æ•¸æ“šæä¾›è€…ç²å–æ•¸æ“š\n        aggregatedData.add(getDataFromProvider1());\n        // å¾ç¬¬äºŒå€‹æ•¸æ“šæä¾›è€…ç²å–æ•¸æ“š\n        aggregatedData.addAll(getDataFromProvider2());\n        return aggregatedData;\n    }\n}\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" org.springframework.web.bind.annotation.GetMapping;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" org.springframework.web.bind.annotation.RestController;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" java.util.ArrayList;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" java.util.List;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" java.util.concurrent.TimeUnit;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"RestController\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"NonReactiveController"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// æ¨¡æ“¬å¾ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–å–®ä¸€æ•¸æ“š\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" String "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider1"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            TimeUnit.SECONDS."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"sleep"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        } "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"catch"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" (InterruptedException "}]},{"type":"element","tag":"span","props":{"class":"ct-157101"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            Thread."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"currentThread"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"interrupt"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Data from Provider 1\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// æ¨¡æ“¬å¾å¦ä¸€å€‹é ç¨‹APIæˆ–æ•¸æ“šåº«ä¸­ç²å–æµå¼æ•¸æ“š\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" List<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider2"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        List<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> data "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" ArrayList<>();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        data."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Data 1 from Provider 2\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            TimeUnit.SECONDS."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"sleep"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        } "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"catch"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" (InterruptedException "}]},{"type":"element","tag":"span","props":{"class":"ct-157101"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            Thread."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"currentThread"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"interrupt"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        data."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Data 2 from Provider 2\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" data;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"GetMapping"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"/aggregate\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" List<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"aggregateData"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        List<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> aggregatedData "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" ArrayList<>();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// å¾ç¬¬ä¸€å€‹æ•¸æ“šæä¾›è€…ç²å–æ•¸æ“š\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        aggregatedData."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider1"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"());\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// å¾ç¬¬äºŒå€‹æ•¸æ“šæä¾›è€…ç²å–æ•¸æ“š\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        aggregatedData."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"addAll"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getDataFromProvider2"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"());\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" aggregatedData;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"back-pressure"},"children":[{"type":"text","value":"back-pressure"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"back-pressureç‚ºä¸€ç¨®æµé‡æ§åˆ¶æ‰‹æ®µï¼Œç•¶ç³»çµ±ä¸­çš„ä¸€å€‹éƒ¨åˆ†ï¼ˆé€šå¸¸æ˜¯æ¶ˆè²»è€…ï¼‰ç„¡æ³•è·Ÿä¸Šå¦ä¸€å€‹éƒ¨åˆ†ï¼ˆé€šå¸¸æ˜¯ç”Ÿç”¢è€…ï¼‰çš„é€Ÿåº¦æ™‚ï¼Œå®ƒæœƒç™¼å‡ºä¸€å€‹ä¿¡è™Ÿï¼Œè¦æ±‚ç”Ÿç”¢è€…æ¸›æ…¢é€Ÿåº¦ã€‚æ›å¥è©±èªªï¼Œç•¶ç³»çµ±éè¼‰æ™‚ï¼ŒéŸ¿æ‡‰å¼æ¶æ§‹å…è¨±ç³»çµ±å‘ä¸Šæ¸¸ï¼ˆç™¼é€è«‹æ±‚çš„ä¾†æºï¼‰ç™¼å‡ºä¿¡è™Ÿï¼Œå‘Šè¨´å®ƒã€Œæ…¢ä¸‹ä¾†ï¼ã€ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"èˆ‰å€‹ç°¡å–®ä¾‹å­ï¼Œå‡è¨­æˆ‘å€‘çš„å¾Œç«¯APIéœ€è¦å¾å¤šå€‹æ•¸æ“šæºæ‹‰å–æ•¸æ“šï¼Œç„¶å¾Œé€²è¡Œä¸€äº›è€—æ™‚çš„è¨ˆç®—æˆ–è½‰æ›ï¼Œæœ€å¾Œå°‡çµæœè¿”å›çµ¦å®¢æˆ¶ç«¯ã€‚ä½¿ç”¨Reactiveæ–¹æ³•ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼Œ"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å‰µå»ºäº†ä¸€å€‹Flowableæµï¼Œç”¨æ–¼æ¨¡æ“¬ä¸€å€‹å¿«é€Ÿç”Ÿæˆæ•¸æ“šçš„æ•¸æ“šæºã€‚é€™å€‹æµç”Ÿæˆ0åˆ°999çš„æ•´æ•¸ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘ç”¨BackpressureStrategy.BUFFERä¾†æŒ‡å®šèƒŒå£“ç­–ç•¥ï¼Œé€™æ¨£å¦‚æœå¾ŒçºŒçš„æ“ä½œï¼ˆä¾‹å¦‚ï¼Œå­˜å„²åˆ°æ•¸æ“šåº«æˆ–é€²è¡Œè¨ˆç®—ï¼‰ç„¡æ³•è·Ÿä¸Šæ•¸æ“šç”Ÿæˆçš„é€Ÿåº¦ï¼Œé€™äº›æ•¸æ“šæœƒè¢«ç·©å­˜èµ·ä¾†ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æˆ‘å€‘ä½¿ç”¨.observeOn(Schedulers.io())ä¾†æŒ‡å®šå¾ŒçºŒæ“ä½œæ‡‰è©²åœ¨I/Oç·šç¨‹ä¸ŠåŸ·è¡Œï¼Œä»¥é¿å…é˜»å¡ä¸»ç·šç¨‹ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"é€™å€‹.blockingSubscribe()æ–¹æ³•æœƒé˜»å¡ç•¶å‰ç·šç¨‹ç›´åˆ°æµè¢«å®Œå…¨æ¶ˆè²»ã€‚é€™è£¡åªæ˜¯ç‚ºäº†ç°¡å–®ç¤ºç¯„ï¼Œå¯¦éš›æ‡‰ç”¨ä¸­æ‡‰é¿å…ä½¿ç”¨é˜»å¡èª¿ç”¨ã€‚"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"import io.reactivex.rxjava3.core.BackpressureStrategy;\nimport io.reactivex.rxjava3.core.Flowable;\nimport io.reactivex.rxjava3.schedulers.Schedulers;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class RxJavaBackPressureExampleController {\n\n    @GetMapping(\"/rxjava-backpressure-example\")\n    public String backPressureExample() {\n\n        Flowable<Integer> flowable = Flowable.create(emitter -> {\n            for (int i = 0; i < 1000; i++) {\n                emitter.onNext(i);\n            }\n            emitter.onComplete();\n        }, BackpressureStrategy.BUFFER);\n\n        StringBuilder result = new StringBuilder();\n\n        flowable.observeOn(Schedulers.io())\n                .blockingSubscribe(\n                        item -> {\n                            // æ¨¡æ“¬è€—æ™‚æ“ä½œ\n                            Thread.sleep(100);\n                            result.append(item).append(\", \");\n                        },\n                        throwable -> result.append(\"Error: \").append(throwable),\n                        () -> result.append(\"Done\")\n                );\n\n        return result.toString();\n    }\n}\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" io.reactivex.rxjava3.core.BackpressureStrategy;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" io.reactivex.rxjava3.core.Flowable;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" io.reactivex.rxjava3.schedulers.Schedulers;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" org.springframework.web.bind.annotation.GetMapping;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" org.springframework.web.bind.annotation.RestController;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"RestController\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"RxJavaBackPressureExampleController"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"GetMapping"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"/rxjava-backpressure-example\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" String "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"backPressureExample"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        Flowable<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Integer"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> flowable "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Flowable."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(emitter "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"; i "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"1000"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"; i"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                emitter."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onNext"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(i);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            emitter."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onComplete"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        }, BackpressureStrategy.BUFFER);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        StringBuilder result "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"StringBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        flowable."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"observeOn"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Schedulers."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"io"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"blockingSubscribe"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                        item "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                            "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// æ¨¡æ“¬è€—æ™‚æ“ä½œ\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                            Thread."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"sleep"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"100"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                            result."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(item)."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\", \""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                        throwable "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" result."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Error: \""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(throwable),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                        () "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" result."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Done\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                );\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" result."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"toString"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"resource-elasticity"},"children":[{"type":"text","value":"resource elasticity"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æŒ‡ä¸€å€‹ç³»çµ±èƒ½å¤ æ ¹æ“šéœ€æ±‚è‡ªå‹•åœ°èª¿æ•´å…¶è³‡æºä½¿ç”¨ï¼ˆä¾‹å¦‚ï¼ŒCPUã€è¨˜æ†¶é«”ã€å¸¶å¯¬ç­‰ï¼‰ã€‚é€™é‚Šèˆ‰å€‹ä¾‹å­ï¼Œ"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ä¸€å€‹åœ–ç‰‡è½‰æ›æœå‹™ç‚ºä¾‹ã€‚é€™å€‹æœå‹™éœ€è¦å¤§é‡çš„CPUè³‡æºä¾†é€²è¡Œåœ–ç‰‡è™•ç†ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æƒ…å¢ƒæè¿°"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ç”¨æˆ¶æœƒä¸Šå‚³åœ–ç‰‡é€²è¡Œæ ¼å¼è½‰æ›ï¼ˆä¾‹å¦‚ï¼Œå¾JPEGè½‰ç‚ºPNGï¼‰ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"åœ¨æ™®é€šå·¥ä½œæ™‚é–“ï¼Œåªæœ‰å°‘æ•¸è«‹æ±‚ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"åœ¨æ™šä¸Šæˆ–ä¿ƒéŠ·æ´»å‹•æœŸé–“ï¼Œè«‹æ±‚æ•¸é‡æœƒåŠ‡å¢ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"æˆ‘å€‘å¸Œæœ›ç³»çµ±èƒ½å¤ æ ¹æ“šè«‹æ±‚çš„é‡å‹•æ…‹èª¿æ•´è³‡æºã€‚"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼Œåœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨äº† Reactor çš„ Elastic Schedulerã€‚é€™å€‹ Scheduler æœƒæ ¹æ“šéœ€è¦å‹•æ…‹åœ°å‰µå»ºæˆ–éŠ·æ¯€åŸ·è¡Œç·’ï¼Œå¾è€Œé”åˆ°è³‡æºå½ˆæ€§ã€‚"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"// Controller\n@RestController\npublic class ImageController {\n    @Autowired\n    private ImageService imageService;\n\n    @PostMapping(\"/convert\")\n    public Mono<Void> convert(@RequestBody Flux<Image> images) {\n        return imageService.convertImages(images).then();\n    }\n}\n\n\n// Service\n@Service\npublic class ImageService {\n    public Flux<Image> convertImages(Flux<Image> images) {\n        return images.parallel()\n                     .runOn(Schedulers.elastic())  // ä½¿ç”¨Elastic Scheduler\n                     .map(this::heavyImageProcessing)\n                     .sequential();\n    }\n\n    private Image heavyImageProcessing(Image image) {\n        // è€—CPUçš„åœ–ç‰‡è™•ç†\n        return new Image();  // è¿”å›è½‰æ›å¾Œçš„åœ–ç‰‡\n    }\n}\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Controller\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"RestController\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"ImageController"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Autowired\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" ImageService imageService;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"PostMapping"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"/convert\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Mono<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Void"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"convert"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"RequestBody"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Flux<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Image"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-157101"},"children":[{"type":"text","value":"images"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" imageService."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"convertImages"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(images)."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"ImageService"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Flux<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Image"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"convertImages"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Flux<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Image"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-157101"},"children":[{"type":"text","value":"images"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" images."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"parallel"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                     ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"runOn"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Schedulers."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"elastic"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"())  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// ä½¿ç”¨Elastic Scheduler\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                     ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"heavyImageProcessing)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                     ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"sequential"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Image "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"heavyImageProcessing"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Image "}]},{"type":"element","tag":"span","props":{"class":"ct-157101"},"children":[{"type":"text","value":"image"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è€—CPUçš„åœ–ç‰‡è™•ç†\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"Image"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è¿”å›è½‰æ›å¾Œçš„åœ–ç‰‡\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"å†èˆ‰å€‹ä¾‹å­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Schedulers.io()å¦‚ä¸‹ ä¾†è‡ªå‹•åœ°ç®¡ç†ä¸€å€‹ç„¡ç•Œçš„ç·šç¨‹æ± ã€‚æ ¹æ“šéœ€è¦å‰µå»ºæ›´å¤šçš„ç·šç¨‹ï¼Œä¸¦åœ¨å®Œæˆå¾Œè‡ªå‹•é‡‹æ”¾ï¼Œå¾è€Œå¯¦ç¾ä¸€ç¨®è³‡æºå½ˆæ€§ã€‚"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Observable<String> observable = Observable.create(emitter -> {\n    emitter.onNext(\"Hello\");\n    emitter.onComplete();\n});\n\nobservable\n    .observeOn(Schedulers.io())\n    .subscribe(item -> {\n        // é€™å€‹æ“ä½œå°‡åœ¨ io Scheduler ä¸Šé‹è¡Œï¼Œå…·æœ‰è³‡æºå½ˆæ€§\n        System.out.println(item);\n    });\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Observable<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> observable "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Observable."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(emitter "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    emitter."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onNext"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Hello\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    emitter."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onComplete"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"});\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"observable\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"observeOn"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Schedulers."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"io"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"subscribe"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(item "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// é€™å€‹æ“ä½œå°‡åœ¨ io Scheduler ä¸Šé‹è¡Œï¼Œå…·æœ‰è³‡æºå½ˆæ€§\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        System.out."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"println"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(item);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    });"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"dreactiveè£œå……"},"children":[{"type":"text","value":"d.Reactiveè£œå……"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨ç´”å¾Œç«¯çš„æƒ…å¢ƒä¸­ï¼Œéé˜»å¡ï¼ˆNon-blockingï¼‰çš„å¯¦ç¾æ–¹å¼é€šå¸¸å·²ç¶“è¶³å¤ æ‡‰å°å¤§å¤šæ•¸çš„éœ€æ±‚ï¼Œç‰¹åˆ¥æ˜¯åœ¨è™•ç† I/O ç­‰å¾…ã€è³‡æ–™åº«æŸ¥è©¢æˆ–ç¶²çµ¡è«‹æ±‚ç­‰æ–¹é¢ã€‚ä½†Reactiveé‚„æ˜¯æœ‰å…¶ç‰¹å®šçš„æ‡‰ç”¨å ´æ™¯ï¼Œæœ€å¸¸è¦‹çš„å°±æ˜¯äº‹ä»¶é©…å‹•æ¶æ§‹åŠæµé‡æ§åˆ¶ï¼ˆBack-Pressureï¼‰ã€‚é‡å°é€™å…©å€‹æ‡‰ç”¨å†çµ¦å€‹æƒ…å¢ƒã€‚"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"æµé‡æ§åˆ¶ï¼ˆBack-Pressureï¼‰\nå‡è¨­ä½ æœ‰ä¸€å€‹å¾Œç«¯ç³»çµ±ï¼Œå®ƒè² è²¬è™•ç†ä¾†è‡ªå¤šå€‹å®¢æˆ¶ç«¯çš„åœ–ç‰‡ä¸Šå‚³ã€‚æ¯å€‹å®¢æˆ¶ç«¯ä¸Šå‚³çš„é€Ÿåº¦å¯èƒ½æœƒä¸ä¸€æ¨£ã€‚å¦‚æœä¸€å€‹å®¢æˆ¶ç«¯ä¸Šå‚³é€Ÿåº¦éå¸¸å¿«ï¼Œè€Œä½ çš„å¾Œç«¯è™•ç†é€Ÿåº¦è·Ÿä¸ä¸Šï¼Œé€™æœƒé€ æˆè³‡æºéåº¦ä½¿ç”¨æˆ–è€…å…¶ä»–å®¢æˆ¶ç«¯çš„è«‹æ±‚è¢«å»¶é²ã€‚"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ Reactive çš„ Back-Pressure æ©Ÿåˆ¶ä¾†æ§åˆ¶æ¥æ”¶é€Ÿåº¦ã€‚å³ï¼Œå¾Œç«¯æœƒå‘Šè¨´æ¯å€‹å®¢æˆ¶ç«¯å®ƒç›®å‰å¯ä»¥æ¥å—çš„é€Ÿåº¦ï¼Œé€™æ¨£å°±ä¸æœƒå› ç‚ºä¸€å…©å€‹éå¿«çš„å®¢æˆ¶ç«¯è€Œå½±éŸ¿æ•´å€‹ç³»çµ±ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨Javaçš„ä¸–ç•Œä¸­ï¼Œé€™å¯ä»¥ä½¿ç”¨ Project Reactor æˆ–è€… RxJava ç­‰åº«ä¾†å¯¦ç¾ã€‚ä»¥ Project Reactor ç‚ºä¾‹ï¼š"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Flux.create(sink -> {\n    // ç”Ÿç”¢æ•¸æ“šçš„é‚è¼¯ï¼Œå¯èƒ½æ˜¯è®€å–ä¸€å€‹å¿«é€Ÿçš„æ•¸æ“šæº\n})\n.onBackpressureBuffer() // é€™è£¡å°±æ˜¯ä½¿ç”¨äº†èƒŒå£“æ©Ÿåˆ¶ï¼Œç•¶é€Ÿåº¦éå¿«æ™‚æœƒç·©å­˜æ•¸æ“š\n.subscribe(data -> {\n    // è™•ç†æ•¸æ“šçš„é‚è¼¯ï¼Œå¯èƒ½æ˜¯å¯«å…¥ä¸€å€‹æ…¢é€Ÿçš„æ•¸æ“šæº\n});\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Flux."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(sink "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// ç”Ÿç”¢æ•¸æ“šçš„é‚è¼¯ï¼Œå¯èƒ½æ˜¯è®€å–ä¸€å€‹å¿«é€Ÿçš„æ•¸æ“šæº\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onBackpressureBuffer"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// é€™è£¡å°±æ˜¯ä½¿ç”¨äº†èƒŒå£“æ©Ÿåˆ¶ï¼Œç•¶é€Ÿåº¦éå¿«æ™‚æœƒç·©å­˜æ•¸æ“š\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"subscribe"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(data "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è™•ç†æ•¸æ“šçš„é‚è¼¯ï¼Œå¯èƒ½æ˜¯å¯«å…¥ä¸€å€‹æ…¢é€Ÿçš„æ•¸æ“šæº\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"});"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"äº‹ä»¶é©…å‹•æ¶æ§‹ (é€™ç¯„ä¾‹æœ‰é»çˆ›...äº‹ä»¶é©…å‹•æ¶æ§‹æ˜¯ä¸€å€‹å¾ˆå¤§çš„Scope....)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨ä¸€å€‹è³¼ç‰©ç¶²ç«™çš„å¾Œç«¯ï¼Œç•¶ç”¨æˆ¶å®Œæˆä»˜æ¬¾å¾Œï¼Œæœƒæœ‰å¤šå€‹æ­¥é©Ÿéœ€è¦åŒæ™‚é€²è¡Œï¼Œä¾‹å¦‚æ›´æ–°åº«å­˜ã€é€šçŸ¥ç”¨æˆ¶ã€ç”Ÿæˆç™¼ç¥¨ç­‰ã€‚é€™äº›æ­¥é©Ÿä¹‹é–“ç›¸äº’ç¨ç«‹ï¼Œä½†éƒ½æ˜¯ç”±ã€Œç”¨æˆ¶å®Œæˆä»˜æ¬¾ã€é€™ä¸€å€‹äº‹ä»¶è§¸ç™¼çš„ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨äº‹ä»¶é©…å‹•æ¶æ§‹ï¼Œç•¶ä¸€å€‹äº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œæœƒé€šçŸ¥ï¼ˆpublishï¼‰çµ¦å¤šå€‹äº‹ä»¶æ¶ˆè²»è€…ï¼ˆsubscriberï¼‰ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ä¾‹å¦‚ï¼Œä½¿ç”¨ Java çš„ Spring Frameworkï¼Œä½ å¯ä»¥é€™æ¨£åšï¼š"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"// äº‹ä»¶ç™¼å¸ƒè€…\npublic class PaymentService {\n    @Autowired\n    private ApplicationEventPublisher publisher;\n\n    public void completePayment() {\n        // ...ä»˜æ¬¾é‚è¼¯\n        publisher.publishEvent(new PaymentCompletedEvent(this));\n    }\n}\n\n// äº‹ä»¶æ¶ˆè²»è€…\npublic class StockService implements ApplicationListener<PaymentCompletedEvent> {\n    @Override\n    public void onApplicationEvent(PaymentCompletedEvent event) {\n        // ...æ›´æ–°åº«å­˜é‚è¼¯\n    }\n}\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// äº‹ä»¶ç™¼å¸ƒè€…\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"PaymentService"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Autowired\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" ApplicationEventPublisher publisher;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"completePayment"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// ...ä»˜æ¬¾é‚è¼¯\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        publisher."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"publishEvent"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"PaymentCompletedEvent"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"));\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// äº‹ä»¶æ¶ˆè²»è€…\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"StockService"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"implements"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"ApplicationListener"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"PaymentCompletedEvent"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Override\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onApplicationEvent"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(PaymentCompletedEvent "}]},{"type":"element","tag":"span","props":{"class":"ct-157101"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// ...æ›´æ–°åº«å­˜é‚è¼¯\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æ¯ç•¶ PaymentService ç™¼å¸ƒä¸€å€‹ PaymentCompletedEventï¼Œæ‰€æœ‰è¨‚é–±äº†é€™å€‹äº‹ä»¶çš„æœå‹™ï¼ˆä¾‹å¦‚ StockServiceï¼‰éƒ½æœƒæ”¶åˆ°é€šçŸ¥ï¼Œä¸¦åŸ·è¡Œç›¸æ‡‰çš„é‚è¼¯ã€‚"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"éé˜»å¡ï¼ˆNon-blockingï¼‰"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ä¸€èˆ¬æ˜¯åŸºæ–¼åŸ·è¡Œç·’æ± ï¼ˆThread Poolï¼‰ä¾†å¯¦ç¾çš„ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ä¸»è¦ç›®çš„æ˜¯è®“åŸ·è¡Œç·’å¯ä»¥åœ¨ç­‰å¾…æŸå€‹æ“ä½œï¼ˆå¦‚I/Oæ“ä½œæˆ–æ•¸æ“šåº«æŸ¥è©¢ï¼‰å®Œæˆçš„æœŸé–“ï¼Œè¢«é‡‹æ”¾å»åšå…¶ä»–äº‹æƒ…ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ä½¿ç”¨Futureã€CompletableFutureæˆ–å…¶ä»–ç•°æ­¥æ©Ÿåˆ¶ä¾†è¡¨ç¤ºæœªä¾†æœƒå®Œæˆçš„çµæœã€‚"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"éŸ¿æ‡‰å¼ï¼ˆReactiveï¼‰"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"åŸºæ–¼äº‹ä»¶é©…å‹•ï¼ˆEvent-Drivenï¼‰å’Œè§€å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"æ›´åŠ é—œæ³¨æ•¸æ“šæµå’Œè®ŠåŒ–çš„å‚³æ’­ï¼Œé€šå¸¸ç”¨æ–¼å¯¦ç¾æ›´ç‚ºè¤‡é›œçš„æ•¸æ“šäº¤äº’å’Œæµæ§åˆ¶ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ä½¿ç”¨Reactive Streams APIæˆ–è€…ç›¸é—œçš„åº«ï¼ˆå¦‚RxJavaã€Project Reactorç­‰ï¼‰ã€‚"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"å¯ä»¥æ›´å¥½åœ°è™•ç†èƒŒå£“ï¼ˆBack-Pressureï¼‰ï¼Œå³åœ¨é«˜è² è¼‰æƒ…æ³ä¸‹æ§åˆ¶æ•¸æ“šæµã€‚"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"äºŒquarkus-éŸ¿æ‡‰å¼èˆ‡é˜»å¡å¼å¯«æ³•å·®ç•°"},"children":[{"type":"text","value":"äºŒã€Quarkus éŸ¿æ‡‰å¼èˆ‡é˜»å¡å¼å¯«æ³•å·®ç•°"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ä¸€èˆ¬ä¾†èªªRestéƒ½æ˜¯ä½¿ç”¨Java EEæä¾›çš„Servletçš„é€™å€‹é¡åˆ¥ä¾†å¯¦è¸ï¼Œå‚³çµ±çš„Restæœå‹™çš†æ˜¯å¦‚æ­¤ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"è€Œåœ¨Quarkuså¾åº•å±¤å°±æ¡ç”¨äº†æ–°çš„å¼•æ“Vert.xä¾†å¯¦ä½œï¼Œè€ŒVert.xåˆåˆ¥æ–¼Servletçš„ä¸åŒæ˜¯ï¼Œä»–åŸºæ–¼nettyé€²è¡Œå¯¦ä½œï¼Œä¹Ÿå°±æ˜¯ä»–æ˜¯åŸºæ–¼ç•°æ­¥é«˜ä½µç™¼çš„äº‹ä»¶é©…å‹•çš„æ‡‰ç”¨ç¨‹å¼æ¡†æ¶ï¼Œä¹Ÿä»£è¡¨èªªç‚ºä»€éº¼åœ¨ä½¿ç”¨Quarkusè¦ä»¥éŸ¿æ‡‰å¼ç·¨ç¨‹ä¾†å¯¦ä½œä½ çš„ç¨‹å¼ã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/blog/images/150/02/003.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æ¡†æ¶çš„åº•å±¤æ¶æ§‹å°±å…ˆå¤§æ¦‚çŸ¥é“é€™è£¡å°±å¥½äº†ï¼Œè©³ç´°çš„æœ‰æ©Ÿæœƒå†å»æ›´æ·±å…¥çš„äº†è§£ï¼Œç›®å‰æˆ‘å€‘éœ€è¦å°ˆæ³¨çš„æ˜¯æ€éº¼å¯«å¥½Quarkusçš„ç¨‹åºï¼Œåƒæ˜¯å¸¸è½åˆ°çš„Reactiveçš„ç›¸é—œå¥—ä»¶ï¼Œåœ¨Javaå’ŒJavaScriptæœ€æœ‰åçš„å°±æ˜¯RXï¼Œåƒæ˜¯Spring Fluxå°±æ˜¯åŸºæ–¼rxJavaå»å¯¦ä½œçš„æ¡†æ¶ï¼Œä½†Quarkusé¸ç”¨çš„érxJavaè€Œæ˜¯Mutinyé€™å€‹ä¸€å€‹å¥—ä»¶ã€‚"}]},{"type":"element","tag":"h3","props":{"id":"a-é˜»å¡-vs-éé˜»å¡éŸ¿æ‡‰å¼å¯«æ³•"},"children":[{"type":"text","value":"a. é˜»å¡ VS éé˜»å¡ï¼ˆéŸ¿æ‡‰å¼å¯«æ³•ï¼‰"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æˆ‘ç¾åœ¨æœ‰ä¸€å€‹éœ€æ±‚æœƒæœ‰å…©å€‹è³‡æ–™åŸï¼Œä¸¦ä¸”è¦å°‡å…©å€‹è³‡æ–™åŸå½™æ•´å¾Œå†å›å‚³ï¼Œä»¥ä¸‹åˆ†åˆ¥ç”¨é˜»å¡å’Œéé˜»å¡çš„å¯«æ³•ä¾†èªªæ˜ã€‚"}]},{"type":"element","tag":"h4","props":{"id":"é˜»å¡"},"children":[{"type":"text","value":"é˜»å¡"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨ä»¥ä¸‹çš„å¯«æ³•å¿…é ˆå…ˆå–å¾—Data1å¾Œæ‰èƒ½å»ç™¼èµ·è«‹æ±‚å–å¾—Data2ï¼Œå› ç‚ºæ­¤ç›®çš„æ˜¯è¦é€²è¡Œå½™æ•´ï¼Œé€™æ¨£æˆ‘å°±æœƒå¤šäº†ä¸€å€‹ç­‰å¾…æ™‚é–“ï¼Œå°è‡´ç¨‹åºåœ¨è™•ç†çš„é€Ÿåº¦è¼ƒæ…¢ã€‚"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"public Data aggregateData() {\n    Data data1 = fetchDataFromDatabase();     // è«‹æ±‚è³‡æ–™åº«ï¼Œæ­¤æ™‚åŸ·è¡Œç·’è¢«é˜»å¡\n    Data data2 = fetchDataFromExternalAPI();  // è«‹æ±‚å¤–éƒ¨ APIï¼Œæ­¤æ™‚åŸ·è¡Œç·’å†æ¬¡è¢«é˜»å¡\n    \n    return combine(data1, data2);             // æ•´åˆå…©éƒ¨åˆ†çš„è³‡æ–™\n}\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Data "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"aggregateData"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    Data data1 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"fetchDataFromDatabase"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();     "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è«‹æ±‚è³‡æ–™åº«ï¼Œæ­¤æ™‚åŸ·è¡Œç·’è¢«é˜»å¡\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    Data data2 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"fetchDataFromExternalAPI"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è«‹æ±‚å¤–éƒ¨ APIï¼Œæ­¤æ™‚åŸ·è¡Œç·’å†æ¬¡è¢«é˜»å¡\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"combine"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(data1, data2);             "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// æ•´åˆå…©éƒ¨åˆ†çš„è³‡æ–™\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"éé˜»å¡mutiny"},"children":[{"type":"text","value":"éé˜»å¡(Mutiny)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"è€Œéé˜»å¡å†é€²è¡Œæ’°å¯«çš„æ™‚å€™ï¼ŒData1å’ŒData2æ˜¯åŒæ™‚ç™¼å‡ºè«‹æ±‚æŸ¥è©¢è³‡æ–™ï¼Œç„¶å¾Œå†é€²è¡Œå½™æ•´ï¼Œé€™æ¨£å°±å¯ä»¥æ¸›å°‘è¦ç­‰å¾…Data1æŸ¥è©¢å›ä¾†å¾Œçš„æ™‚é–“ï¼Œé€™æ¨£åœ¨ç¨‹åºè™•ç†çš„æ•ˆèƒ½æœƒæ¯”è¼ƒå¿«é€Ÿã€‚"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"public Uni<Data> aggregateData() {\n    Uni<Data> data1Uni = fetchDataFromDatabaseAsync();      // éé˜»å¡åœ°è«‹æ±‚è³‡æ–™åº«\n    Uni<Data> data2Uni = fetchDataFromExternalAPIAsync();   // éé˜»å¡åœ°è«‹æ±‚å¤–éƒ¨ API\n    \n    return Uni.combine().all().unis(data1Uni, data2Uni)     // åŒæ™‚ç­‰å¾…å…©å€‹ Uni å®Œæˆ\n             .asTuple()\n             .onItem().transform(tuple -> combine(tuple.getItem1(), tuple.getItem2()));\n}\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Uni"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Data"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"aggregateData"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Data"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> data1Uni "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"fetchDataFromDatabaseAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();      "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// éé˜»å¡åœ°è«‹æ±‚è³‡æ–™åº«\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Data"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> data2Uni "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"fetchDataFromExternalAPIAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();   "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// éé˜»å¡åœ°è«‹æ±‚å¤–éƒ¨ API\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Uni."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"combine"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"all"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"unis"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(data1Uni, data2Uni)     "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// åŒæ™‚ç­‰å¾…å…©å€‹ Uni å®Œæˆ\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"             ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"asTuple"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"             ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onItem"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"transform"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(tuple "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"combine"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(tuple."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getItem1"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(), tuple."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"getItem2"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()));\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"b-mutiny"},"children":[{"type":"text","value":"b. Mutiny"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨é€™å€‹Mutinyä¸»è¦æä¾›äº†å…©ç¨®ä»‹é¢ä¾†å¯¦è¸Reactiveå¦‚ä¸‹åˆ—èªªæ˜ï¼š"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Uni<?>\n"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æä¾›0å€‹æˆ–ä¸€å€‹åŸ·è¡Œçµæœçš„ç•°æ­¥æ“ä½œï¼Œå¯è¢«åšè³‡æ–™ä¸²æµæ•´åˆï¼Œé€šå¸¸å–®ç¨ä½¿ç”¨åªæœ‰onItem(onSucess)èˆ‡onFailureï¼Œå…©ç¨®äº‹ä»¶ã€‚"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Multi<?>\n"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"æä¾›å¤šå€‹çµæœçš„ç•°æ­¥æ“ä½œï¼Œå¯ä»¥åšè³‡æ–™ä¸²æµæ•´åˆï¼ŒonItemèˆ‡onFailureã€‚"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨é€™è£¡é‚„æ˜¯è¦æé†’ä¸€ä¸‹ï¼ŒReactiveä¸ç®¡æ˜¯rxJavaé‚„æ˜¯Mutinyéƒ½æ˜¯åŸºæ–¼Functional Programing (å‡½æ•¸å¼ç¨‹å¼è¨­è¨ˆ)ï¼Œå¦‚æœæœ‰å¯«éå‰ç«¯æ¡†æ¶å¦‚Angularï¼ŒRestï¼ŒVueçš„äººæ‡‰è©²æœƒç›¸å°ç†Ÿæ‚‰ã€‚"}]},{"type":"element","tag":"h4","props":{"id":"uni-æä¾›0å€‹æˆ–1å€‹åŸ·è¡Œçµæœçš„ç•°æ­¥æ“ä½œ"},"children":[{"type":"text","value":"Uni æä¾›0å€‹æˆ–1å€‹åŸ·è¡Œçµæœçš„ç•°æ­¥æ“ä½œ"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Uniå¦‚æœä»¥JavaåŸç”Ÿçš„å¥—ä»¶å¯ä»¥ç›¸ç•¶ç­‰æ–¼Futureå’ŒCompletionStageã€‚"}]},{"type":"element","tag":"h5","props":{"id":"create-uni"},"children":[{"type":"text","value":"Create Uni"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"//å»ºç«‹ä¸€å€‹ç›´æ¥å›å‚³å€¼çš„Uni\nUni<String> uniFromValue = Uni.createFrom().item(\"Hello, Mutiny!\");\n\n//å‰µå»ºä¸€å€‹æœ‰é‚è¼¯è™•ç†éå¾Œçš„Uni\nUni<String> uniFromSupplier = Uni.createFrom().item(() -> {\n    // dosomething\n    return \"Async result\";\n});\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"//å»ºç«‹ä¸€å€‹ç›´æ¥å›å‚³å€¼çš„Uni\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> uniFromValue "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Uni."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"item"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Hello, Mutiny!\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"//å‰µå»ºä¸€å€‹æœ‰é‚è¼¯è™•ç†éå¾Œçš„Uni\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> uniFromSupplier "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Uni."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"item"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(() "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// dosomething\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Async result\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"});"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"å°‡completionstageè½‰æ›ç‚ºuni"},"children":[{"type":"text","value":"å°‡CompletionStageè½‰æ›ç‚ºUni"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Uni<String> uniFromCompletionStage = Uni.createFrom().completionStage(this::asyncMethod);\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> uniFromCompletionStage "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Uni."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"completionStage"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-617022"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"asyncMethod);"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"çµ„åˆå¤šå€‹uni"},"children":[{"type":"text","value":"çµ„åˆå¤šå€‹Uni"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Uni<String> uni1 = Uni.createFrom().item(\"Hello\");\nUni<String> uni2 = Uni.createFrom().item(\"Mutiny\");\n\nUni<String> combined = uni1.onItem()\n                           .combine()\n                           .with(uni2)\n                           .by((item1, item2) -> item1 + \" \" + item2);\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> uni1 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Uni."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"item"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Hello\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> uni2 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Uni."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"item"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Mutiny\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> combined "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" uni1."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onItem"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                           ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"combine"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                           ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(uni2)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"                           ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"by"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"((item1, item2) "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" item1 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\" \""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" item2);"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"éŒ¯èª¤è™•ç†"},"children":[{"type":"text","value":"éŒ¯èª¤è™•ç†"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Uni<String> recovered = uniFromValue\n    .onFailure()\n    .recoverWithItem(\"Fallback item in case of failure\");\n\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Uni<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> recovered "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" uniFromValue\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onFailure"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"recoverWithItem"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Fallback item in case of failure\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"éé˜»å¡ç•°æ­¥è½‰æ›ç‚ºé˜»å¡åŒæ­¥-é€™æ¨£å¯«å°±è®ŠæˆåŒæ­¥äº†è¦æ³¨æ„"},"children":[{"type":"text","value":"éé˜»å¡ç•°æ­¥è½‰æ›ç‚ºé˜»å¡åŒæ­¥ (é€™æ¨£å¯«å°±è®ŠæˆåŒæ­¥äº†è¦æ³¨æ„)"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"String result = uniFromValue.await().indefinitely();\nSystem.out.println(result); // è¼¸å‡ºï¼šHello, Mutiny!\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"String result "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" uniFromValue."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"indefinitely"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"System.out."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"println"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(result); "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è¼¸å‡ºï¼šHello, Mutiny!"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"multi-æä¾›å¤šå€‹çµæœçš„ç•°æ­¥æ“ä½œ"},"children":[{"type":"text","value":"Multi æä¾›å¤šå€‹çµæœçš„ç•°æ­¥æ“ä½œ"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"èˆ‡ Uni ä¸åŒçš„æ˜¯ï¼ŒMulti å¯ä»¥è¡¨ç¤ºå¤šç­†è³‡æ–™é …ç›®ï¼Œä¾‹å¦‚ä¾†è‡ªè³‡æ–™åº«çš„å¤šç­†è¨˜éŒ„æˆ–è€…ä¸€ç³»åˆ—çš„äº‹ä»¶"}]},{"type":"element","tag":"h5","props":{"id":"create-multi"},"children":[{"type":"text","value":"Create Multi"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"// å‰µå»ºä¸€å€‹é›†åˆçš„Multi\nMulti<String> names = Multi.createFrom().items(\"Alice\", \"Bob\", \"Charlie\");\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// å‰µå»ºä¸€å€‹é›†åˆçš„Multi\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> names "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Alice\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Bob\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Charlie\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"éæ¿¾å’Œè½‰æ›"},"children":[{"type":"text","value":"éæ¿¾å’Œè½‰æ›"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Multi<Integer> lengths = names\n    .filter(name -> !name.equals(\"Bob\"))      // éæ¿¾æ‰ \"Bob\"\n    .onItem().transform(String::length);      // å°‡åç¨±è½‰æ›ç‚ºå…¶é•·åº¦\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"Integer"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> lengths "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" names\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"filter"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(name "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"name."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"equals"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Bob\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"))      "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// éæ¿¾æ‰ \"Bob\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onItem"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"transform"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(String"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"length);      "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// å°‡åç¨±è½‰æ›ç‚ºå…¶é•·åº¦"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"éŒ¯èª¤è™•ç†-1"},"children":[{"type":"text","value":"éŒ¯èª¤è™•ç†"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Multi<String> processed = names\n    .onItem().transform(name -> {\n        if (name.equals(\"Bob\")) {\n            throw new RuntimeException(\"Bob not allowed!\");\n        }\n        return name;\n    })\n    .onFailure().recoverWithMulti(Multi.createFrom().item(\"Error occurred\"));\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> processed "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" names\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onItem"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"transform"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(name "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" (name."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"equals"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Bob\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":")) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"RuntimeException"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Bob not allowed!\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" name;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"onFailure"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"recoverWithMulti"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"item"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"Error occurred\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"));"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"åˆä½µ"},"children":[{"type":"text","value":"åˆä½µ"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Multi<String> multi1 = Multi.createFrom().items(\"A\", \"B\");\nMulti<String> multi2 = Multi.createFrom().items(\"C\", \"D\");\n\nMulti<String> merged = Multi.createBy().merging().streams(multi1, multi2);  // è¼¸å‡ºï¼šA, B, C, D\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> multi1 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"A\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"B\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> multi2 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"C\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"D\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> merged "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createBy"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"merging"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"streams"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(multi1, multi2);  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è¼¸å‡ºï¼šA, B, C, D"}]}]}]}]},{"type":"element","tag":"h5","props":{"id":"é€£çµ"},"children":[{"type":"text","value":"é€£çµ"}]},{"type":"element","tag":"pre","props":{"className":"language-java github-light_github-dark","code":"Multi<String> multi1 = Multi.createFrom().items(\"A\", \"B\");\nMulti<String> multi2 = Multi.createFrom().items(\"C\", \"D\");\n\nMulti<String> concatenated = Multi.createBy().concatenating().streams(multi1, multi2);  // è¼¸å‡ºï¼šA, B (ç­‰å¾…å®Œæˆ), C, D\n","language":"java","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> multi1 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"A\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"B\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> multi2 "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"C\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-952708"},"children":[{"type":"text","value":"\"D\""}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"Multi<"}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"> concatenated "}]},{"type":"element","tag":"span","props":{"class":"ct-149352"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":" Multi."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"createBy"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"concatenating"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-762058"},"children":[{"type":"text","value":"streams"}]},{"type":"element","tag":"span","props":{"class":"ct-553616"},"children":[{"type":"text","value":"(multi1, multi2);  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// è¼¸å‡ºï¼šA, B (ç­‰å¾…å®Œæˆ), C, D"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"c-infrastructureæ’°å¯«æ³¨æ„"},"children":[{"type":"text","value":"c. Infrastructureæ’°å¯«æ³¨æ„"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"å¯¦ä½œéç¨‹ä¸²æ¥æœ‰é‡åˆ°ä¸€äº›å•é¡Œï¼Œå¯¦æ¸¬ä¸²æ¥MongoDBæ®µï¼ŒQuarkusæœ‰æä¾›ä¸€å€‹éŸ¿æ‡‰å¼DBç‰©ä»¶å«ReactiveMongoClientã€‚å¦‚æœç›´æ¥ä½¿ç”¨é€™å€‹ç‰©ä»¶ï¼Œä»–åŸºåº•åŸºæœ¬ä¸Šå°±æ˜¯ä½¿ç”¨Mutinyå»åŒ…MongoDBå®˜æ–¹çš„MogoClientç‰©ä»¶ï¼Œé è¨­å°±æ˜¯éŸ¿æ‡‰å¼å¯«æ³•ã€‚ä½†å¯¦éš›ç”¨èµ·ä¾†æœ‰å¾ˆå¤§çš„å•é¡Œï¼Œåœ¨è³‡æ–™MongoDB Collectionè³‡æ–™é‡ç ´åƒå¾Œï¼Œä½¿ç”¨ReactiveMongoClientå¯«æ³•å¯¦éš›è·‘èµ·ä¾†æœƒæ¯”é˜»å¡çš„å¯«æ³•é‚„æ…¢ã€‚ç¨å¾®æŸ¥ä¸€ä¸‹ï¼Œæ„Ÿè¦ºé€™å€‹"},{"type":"element","tag":"a","props":{"href":"https://github.com/quarkusio/quarkus/issues/36177","rel":["nofollow"]},"children":[{"type":"text","value":"Issue"}]},{"type":"text","value":"ç›®å‰é‚„æ˜¯Openã€‚æ‰€ä»¥å»ºè­°å¯«æ³•ï¼Œé‚„æ˜¯è‡ªå·±ä½¿ç”¨Mutinyå»åŒ…DBç‰©ä»¶ã€‚"}]},{"type":"element","tag":"h3","props":{"id":"d-k6ioæ¸¬è©¦çµæœ"},"children":[{"type":"text","value":"d. K6.ioæ¸¬è©¦çµæœ"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/KCDC-Cloud-Dev/Research-Dummy/tree/feature-web-service-sample/quarkus-dummy/web-service-mongodb","rel":["nofollow"]},"children":[{"type":"text","value":"ç¯„ä¾‹é»æˆ‘"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"é‡å°ç¯„ä¾‹ç¨‹å¼å»ä½¿ç”¨k6.ioæ¸¬è©¦ï¼Œæ¨¡æ“¬1000å€‹useråŒæ™‚æ‰“APIï¼Œä¸¦åŸ·è¡Œ1000æ¬¡çµæœå¦‚ä¸‹ï¼Œæ•¸æ“šéƒ¨åˆ†å¯ä»¥çœ‹åˆ°éŸ¿æ‡‰å¼å¯«æ³•æ¯”é˜»å¡å¼å¯«æ³•åœ¨connectingæ™‚é–“å·®äº†7å€ï¼ŒæˆåŠŸç‡ä¹Ÿæ¯”è¼ƒé«˜ã€‚é€™ç‚ºç°¡å–®ä»¥æ¥µç«¯ä¾‹å­å»æ¸¬è©¦ï¼Œåšå€‹ç°¡æ˜“åƒè€ƒã€‚"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/blog/images/150/02/004.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"è¨»:å¯¦éš›æ¸¬è©¦checksæ‡‰è©²è¦é”100%ï¼Œé€šå¸¸æœ‰å¹¾å€‹åŸå› ï¼Œç³»çµ±ä¹˜è¼‰é‡çœŸçš„å¤ªå¤§(æ¥µç«¯æ¨¡æ“¬ç¡¬é«”Supportä¸è¶³)ï¼Œä¸ç„¶å°±æ˜¯ç¨‹å¼ç¢¼çœŸçš„å¯«å¾—æœ‰å•é¡Œã€‚"}]},{"type":"element","tag":"h2","props":{"id":"reference"},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://quarkus.pro/guides/getting-started-reactive.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://quarkus.pro/guides/getting-started-reactive.html"}]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/Tong_Rui/article/details/110683703","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/Tong_Rui/article/details/110683703"}]},{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/63228618","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/63228618"}]},{"type":"element","tag":"a","props":{"href":"https://quarkus.io/blog/mutiny-back-pressure/","rel":["nofollow"]},"children":[{"type":"text","value":"https://quarkus.io/blog/mutiny-back-pressure/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://dassum.medium.com/building-a-reactive-restful-web-service-using-spring-boot-and-postgres-c8e157dbc81d","rel":["nofollow"]},"children":[{"type":"text","value":"https://dassum.medium.com/building-a-reactive-restful-web-service-using-spring-boot-and-postgres-c8e157dbc81d"}]},{"type":"element","tag":"a","props":{"href":"http://blog.nostratech.com/2018/12/building-reactive-rest-api-using-spring.html","rel":["nofollow"]},"children":[{"type":"text","value":"http://blog.nostratech.com/2018/12/building-reactive-rest-api-using-spring.html"}]},{"type":"element","tag":"a","props":{"href":"https://howtodoinjava.com/spring-webflux/spring-webflux-tutorial/","rel":["nofollow"]},"children":[{"type":"text","value":"https://howtodoinjava.com/spring-webflux/spring-webflux-tutorial/"}]},{"type":"element","tag":"a","props":{"href":"https://engineering.linecorp.com/en/blog/reactive-streams-armeria-2","rel":["nofollow"]},"children":[{"type":"text","value":"https://engineering.linecorp.com/en/blog/reactive-streams-armeria-2"}]},{"type":"element","tag":"a","props":{"href":"https://smallrye.io/smallrye-mutiny/1.6.0/tutorials/creating-uni-pipelines/","rel":["nofollow"]},"children":[{"type":"text","value":"https://smallrye.io/smallrye-mutiny/1.6.0/tutorials/creating-uni-pipelines/"}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":".github-light_github-dark{color:#24292e;background:#fff;}.dark .github-light_github-dark{color:#e1e4e8;background:#24292e;}.ct-553616{color:#24292E;}.dark .ct-553616{color:#E1E4E8;}.ct-149352{color:#D73A49;}.dark .ct-149352{color:#F97583;}.ct-952708{color:#032F62;}.dark .ct-952708{color:#9ECBFF;}.ct-762058{color:#6F42C1;}.dark .ct-762058{color:#B392F0;}.ct-086898{color:#6A737D;}.ct-617022{color:#005CC5;}.dark .ct-617022{color:#79B8FF;}.ct-157101{color:#E36209;}.dark .ct-157101{color:#FFAB70;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"ä¸€restful-web-api-é˜»å¡å¼éé˜»å¡å¼éŸ¿æ‡‰å¼èˆ‡ä½µç™¼å·®ç•°æ€§","depth":2,"text":"ä¸€ã€RESTful Web API é˜»å¡å¼ã€éé˜»å¡å¼ã€éŸ¿æ‡‰å¼èˆ‡ä½µç™¼å·®ç•°æ€§","children":[{"id":"ablocking","depth":3,"text":"a.Blocking"},{"id":"bnon-blocking","depth":3,"text":"b.Non-Blocking"},{"id":"creactive","depth":3,"text":"c.Reactive"},{"id":"dreactiveè£œå……","depth":3,"text":"d.Reactiveè£œå……"}]},{"id":"äºŒquarkus-éŸ¿æ‡‰å¼èˆ‡é˜»å¡å¼å¯«æ³•å·®ç•°","depth":2,"text":"äºŒã€Quarkus éŸ¿æ‡‰å¼èˆ‡é˜»å¡å¼å¯«æ³•å·®ç•°","children":[{"id":"a-é˜»å¡-vs-éé˜»å¡éŸ¿æ‡‰å¼å¯«æ³•","depth":3,"text":"a. é˜»å¡ VS éé˜»å¡ï¼ˆéŸ¿æ‡‰å¼å¯«æ³•ï¼‰"},{"id":"b-mutiny","depth":3,"text":"b. Mutiny"},{"id":"c-infrastructureæ’°å¯«æ³¨æ„","depth":3,"text":"c. Infrastructureæ’°å¯«æ³¨æ„"},{"id":"d-k6ioæ¸¬è©¦çµæœ","depth":3,"text":"d. K6.ioæ¸¬è©¦çµæœ"}]},{"id":"reference","depth":2,"text":"Reference"}]}},"_type":"markdown","_id":"content:150.web-backend:2. Quarkus Reactive Web APIå¯«æ³•ç´€éŒ„.md","_source":"content","_file":"150.web-backend/2. Quarkus Reactive Web APIå¯«æ³•ç´€éŒ„.md","_extension":"md"}]